<h1 mat-dialog-title>Bedriftsabo</h1>

<div mat-dialog-content>
  <div class="row">
    <div class="col-12">
      <form #subscriptionForm="ngForm">
        <p *ngIf="data.id">Kunde: {{ data.customerName }}</p>
        <p *ngIf="!data.id">
          <mat-form-field>
            <mat-label>Kunde</mat-label>
            <mat-select [(value)]="data.customerId">
              <mat-option
                *ngFor="let customer of data.customers"
                [value]="customer.customerNumber"
              >
                {{ customer.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field>
            <mat-label>Status</mat-label>
            <mat-select [(value)]="data.status">
              <mat-option
                *ngFor="let status of data.statuses"
                [value]="status.value"
              >
                {{ status.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field>
            <mat-label>Abotype</mat-label>
            <mat-select [(value)]="data.frequence">
              <mat-option
                *ngFor="let frequence of data.frequences"
                [value]="frequence.value"
              >
                {{ frequence.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </p>
        <p>
          <mat-form-field class="full-width">
            <mat-label>Antall 250g</mat-label>
            <input
              matInput
              type="number"
              name="quantityElement"
              [(ngModel)]="data.quantity250"
            />
          </mat-form-field>
        </p>
        <p>
          <mat-form-field class="full-width">
            <mat-label>Antall 500g</mat-label>
            <input
              matInput
              type="number"
              name="quantity500Element"
              [(ngModel)]="data.quantity500"
            />
          </mat-form-field>
        </p>
        <p>
          <mat-form-field class="full-width">
            <mat-label>Antall 1.2kg</mat-label>
            <input
              matInput
              type="number"
              name="quantity1200Element"
              [(ngModel)]="data.quantity1200"
            />
          </mat-form-field>
        </p>
        <p>
          <mat-form-field class="full-width">
            <mat-label>Notat</mat-label>
            <textarea
              matInput
              name="noteElement"
              [(ngModel)]="data.note"
            ></textarea>
          </mat-form-field>
        </p>

        <div>
          <div mat-dialog-actions>
            <button mat-button (click)="onNoClick()">Avbryt</button>
            <button
              mat-button
              [mat-dialog-close]="data"
              cdkFocusInitial
              [disabled]="!subscriptionForm.valid"
            >
              <span *ngIf="!data.id">Opprett</span>
              <span *ngIf="data.id">Lagre endringer</span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
